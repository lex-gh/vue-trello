(function(){"use strict";var e={2218:function(e,t,o){var n=o(9242),r=o(3396),a=o(7139),l=o(4870),s=o(65);const i=e=>((0,r.dD)("data-v-f18278b2"),e=e(),(0,r.Cn)(),e),d={class:"w-full bg-gray-100 border-b-[0.5px] border-gray-300"},c={class:"container-xl h-[60px] mx-auto px-4 flex items-center"},u=i((()=>(0,r._)("div",{class:"logo text-2xl md:text-3xl font-bold text-gray-700"},[(0,r.Uk)(" Vuello"),(0,r._)("span",{class:"w-2 h-2 rounded-lg bg-red-600 inline-block"})],-1))),m=i((()=>(0,r._)("i",{class:"material-icons edit text-xl text-white mr-0 md:mr-2"},null,-1))),p=i((()=>(0,r._)("span",{class:"text-white font-normal hidden md:block"},"Добавить доску",-1))),f=[m,p],v={class:"dropdown ml-1 flex items-center relative"},g={class:"content absolute top-12 right-0 w-min bg-white shadow-md px-4 py-2 rounded-md z-[999]"},x=i((()=>(0,r._)("i",{class:"material-icons settings"},null,-1))),h=i((()=>(0,r._)("li",{class:"text-gray-700 flex gap-2 cursor-pointer"},[(0,r._)("i",{class:"material-icons logout"}),(0,r.Uk)(" Logout ")],-1))),b={class:"flex flex-col sm:flex-row pt-2"};var w={__name:"TheHeader",setup(e){const t=(0,l.iH)(!1),o=(0,s.oR)(),i=(0,l.iH)(""),m=()=>{o.commit("ui/showModal")},p=()=>{o.commit("tasks/createBoard",i.value),i.value="",o.commit("ui/showModal")};return(e,s)=>{const w=(0,r.up)("router-link"),k=(0,r.up)("v-modal");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("header",d,[(0,r._)("div",c,[u,(0,r._)("button",{onClick:m,class:(0,a.C_)([{"create-board":!(0,l.SU)(o).state.tasks.boards.length},"flex items-center px-3 py-1 ml-auto bg-red-500 hover:bg-red-600 rounded-md outline-none cursor-pointer transition-all border-none"]),title:"create new board"},f,2),(0,r._)("div",v,[(0,r._)("button",{onClick:s[0]||(s[0]=e=>t.value=!t.value),class:"material-icons settings ml-4 text-gray-700 text-3xl",title:"setting"}),(0,r.wy)((0,r._)("div",g,[(0,r._)("ul",null,[(0,r.Wm)(w,{to:"#",class:"text-gray-700 flex gap-2 cursor-pointer mb-2"},{default:(0,r.w5)((()=>[x,(0,r.Uk)("Setting")])),_:1}),h])],512),[[n.F8,t.value]])])])]),(0,r.Wm)(k,null,{title:(0,r.w5)((()=>[(0,r.Uk)("Создание доски")])),body:(0,r.w5)((()=>[(0,r._)("div",b,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>i.value=e),type:"text",placeholder:"Мои задачи",class:"w-full h-8 shrink grow mb-4 sm:mb-0 border-[1px] px-2 shrink rounded-md border-gray-400 outline-none mr-4"},null,512),[[n.nr,i.value]]),(0,r._)("button",{onClick:p,class:"px-5 py-1 rounded-md text-white bg-green-600 hover:bg-green-700 rounded-md outline-none cursor-pointer border-none"}," Создать ")])])),_:1})],64)}}},k=o(89);const y=(0,k.Z)(w,[["__scopeId","data-v-f18278b2"]]);var _=y;const C={class:"flex flex-col flex-auto min-w-[280px]"};var D={__name:"App",setup(e){return(e,t)=>{const o=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)("div",C,[(0,r.Wm)(_),(0,r.Wm)(o)])}}};const O=D;var S=O,j=o(2483),T=o(2023);o(7658);const U=(e,t)=>{const{removedIndex:o,addedIndex:n,payload:r}=t;if(null===o&&null===n)return e;const a=[...e];let l=r;return null!==o&&(l=a.splice(o,1)[0]),null!==n&&a.splice(n,0,l),a},M={class:"w-full p-2 bg-white shadow-sm rounded mb-3 relative"},H={class:"text-md text-gray-700 flex items-center justify-between"},I={class:"text-sm text-gray-600 pt-2 pb-3"},E={key:0,class:"text-xs text-gray-400 flex items-center"},W=(0,r._)("i",{class:"material-icons schedule text-xs mr-1"},null,-1);var F={__name:"vCardItem",props:{card:{type:Object,required:!0}},setup(e){const t=e;(0,r.Fl)((()=>t.card.date.toLocaleDateString("ru-RU")));return(t,o)=>((0,r.wg)(),(0,r.iD)("div",M,[(0,r._)("div",H,[(0,r.Uk)((0,a.zw)(e.card.title)+" ",1),(0,r._)("i",{onClick:o[0]||(o[0]=o=>t.$emit("deleteCard",e.card.id)),class:"material-icons delete text-gray-300 hover:text-red-500 cursor-pointer"})]),(0,r._)("p",I,(0,a.zw)(e.card.description),1),e.card.date?((0,r.wg)(),(0,r.iD)("div",E,[W,(0,r.Uk)((0,a.zw)(e.card.date),1)])):(0,r.kq)("",!0)]))}};const z=F;var L=z;const N={class:"w-full pt-4 flex flex-col"},P={class:"flex gap-2 py-3"};var $={__name:"vCardForm",emits:["createCard","clickHide"],setup(e,{emit:t}){const o=(0,l.qj)({title:"",description:""}),s=(0,r.Fl)((()=>!(o.title&&o.description))),i=()=>{o.title&&o.description&&(t("createCard",o),t("clickHide"))};return(e,t)=>((0,r.wg)(),(0,r.iD)("div",N,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.title=e),class:"h-8 mb-2 px-2 text-md outline-none rounded-md",type:"text",placeholder:"Заголовок"},null,512),[[n.nr,o.title]]),(0,r.wy)((0,r._)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.description=e),class:"h-[100px] p-2 text-sm outline-none rounded-md",cols:"30",rows:"7",placeholder:"Описание"},null,512),[[n.nr,o.description]]),(0,r._)("div",P,[(0,r._)("button",{onClick:i,class:(0,a.C_)([{"bg-green-600/40 pointer-events-none":s.value},"flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md"])}," Сохранить ",2),(0,r._)("button",{onClick:t[2]||(t[2]=t=>e.$emit("clickHide")),class:"flex-1 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-md"}," Закрыть ")])]))}};const q=$;var B=q;const R={class:"w-[280px] max-h-[100vh] m-2 mr-8 p-2 bg-gray-200 shadow-sm rounded"},A={class:"flex items-center gap-2 select-none py-2"},V=(0,r._)("span",{class:"column-drag-handle material-icons drag_indicator cursor-move text-gray-700"},null,-1),Y=["title"],J=(0,r._)("i",{class:"material-icons add"},null,-1);var K={__name:"vCardContainer",props:{item:{type:Object}},setup(e){const t=e,o=(0,s.oR)(),i=(0,l.iH)(!1),d=(0,l.iH)({className:"drop-preview",animationDuration:"150",showOnTop:!0}),c=e=>t=>o.getters["tasks/getCols"].filter((t=>t.id===e))[0].tasks[t],u=(e,t)=>{if(null!==t.removedIndex||null!==t.addedIndex){const n=o.getters["tasks/getCols"],r=n.filter((t=>t.id===e))[0],a=n.indexOf(r),l=Object.assign({},r);l.tasks=U(l.tasks,t),n.splice(a,1,l),o.commit("tasks/updateTasks",n)}},m=(e,t)=>{o.commit("tasks/createTask",{value:e,column:t})},p=e=>{if(0!==t.item.tasks.length){let t=confirm("Остались не закрытые задачи. Все равно удалить?");t&&o.commit("tasks/deleteBoard",e)}else o.commit("tasks/deleteBoard",e)},f=(e,t)=>{o.commit("tasks/deleteTask",{taskID:e,colsID:t})};return(t,o)=>((0,r.wg)(),(0,r.iD)("div",R,[(0,r._)("div",A,[V,(0,r._)("div",{class:"text-xl font-medium text-gray-700 overflow-hidden text-ellipsis",title:e.item.name},(0,a.zw)(e.item.name),9,Y),(0,r._)("button",{onClick:o[0]||(o[0]=t=>p(e.item.id)),class:"material-icons delete ml-auto text-gray-300 hover:text-red-500/90 transition"})]),(0,r.Wm)((0,l.SU)(T.Container),{class:"container max-h-[360px] overflow-y-auto pr-1","group-name":"col",orientation:"vertical","drag-class":"card-ghost","drop-class":"card-ghost-drop","drop-placeholder":d.value,"get-child-payload":c(e.item.id),onDrop:o[2]||(o[2]=t=>u(e.item.id,t))},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.item.tasks,(t=>((0,r.wg)(),(0,r.j4)((0,l.SU)(T.Draggable),{key:t.id},{default:(0,r.w5)((()=>[(0,r.Wm)(L,{card:t,onDeleteCard:o[1]||(o[1]=t=>f(t,e.item.id))},null,8,["card"])])),_:2},1024)))),128))])),_:1},8,["drop-placeholder","get-child-payload"]),(0,r.wy)((0,r._)("div",{onClick:o[3]||(o[3]=e=>i.value=!i.value),class:"flex items-center py-2 text-md text-gray-500 cursor-pointer"},[J,(0,r.Uk)("Добавить задачу ")],512),[[n.F8,!i.value]]),i.value?((0,r.wg)(),(0,r.j4)(B,{key:0,onClickHide:o[4]||(o[4]=e=>i.value=!1),onCreateCard:o[5]||(o[5]=t=>m(t,e.item.id))})):(0,r.kq)("",!0)]))}};const Q=K;var Z=Q;const G={class:"min-w-0 flex-auto overflow-auto"},X={key:0,class:"p-4"},ee=(0,r._)("div",{class:"leading-10 text-center"},[(0,r._)("h3",{class:"text-2xl mb-4"},"Привет 👋"),(0,r._)("p",{class:"text-xl"},"Создайте свою первую доску 💼")],-1),te=[ee],oe={key:1,class:"p-4"};var ne={__name:"HomeView",setup(e){const t=(0,s.oR)(),o=(0,l.iH)({className:"cards-drop-preview",animationDuration:"150",showOnTop:!0}),n=(0,r.Fl)({get(){return t.state.tasks.boards},set(e){t.commit("tasks/updateCols",e)}}),a=e=>{n.value=U(n.value,e)};return(e,t)=>((0,r.wg)(),(0,r.iD)("div",G,[n.value.length?((0,r.wg)(),(0,r.iD)("div",oe,[(0,r.Wm)((0,l.SU)(T.Container),{"drag-handle-selector":".column-drag-handle",orientation:"horizontal","drop-placeholder":o.value,onDrop:a},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.value,(e=>((0,r.wg)(),(0,r.j4)((0,l.SU)(T.Draggable),{key:e.id},{default:(0,r.w5)((()=>[(0,r.Wm)(Z,{item:e},null,8,["item"])])),_:2},1024)))),128))])),_:1},8,["drop-placeholder"])])):((0,r.wg)(),(0,r.iD)("div",X,te))]))}};const re=ne;var ae=re;const le=[{path:"/",name:"home",component:ae},{path:"/tasks",name:"tasks",component:()=>o.e(443).then(o.bind(o,2637))}],se=(0,j.p7)({history:(0,j.PO)("/vue-trello/"),routes:le});var ie=se;const de={namespaced:!0,state:()=>({modalShow:!1}),mutations:{showModal(e){e.modalShow=!e.modalShow},hideModal(e){e.modalShow=!1}},actions:{},getters:{}},ce={namespaced:!0,state:()=>({boards:JSON.parse(localStorage.getItem("boards"))||[]}),mutations:{createBoard(e,t){e.boards.push({name:t,id:Math.floor(1e6*Math.random()),tasks:[]})},createTask(e,{value:t,column:o}){const n=()=>{const e=new Date;return`${e.toLocaleDateString("ru-RU")} в ${e.getHours()}:${e.getMinutes()}`},r=e.boards.find((e=>e.id===o));r.tasks.push({...t,id:Math.floor(1e6*Math.random()),date:n()})},deleteBoard(e,t){e.boards=e.boards.filter((e=>e.id!==t))},deleteTask(e,{taskID:t,colsID:o}){const n=e.boards.find((e=>e.id===o));n.tasks=n.tasks.filter((e=>e.id!==t))},updateCols(e,t){e.boards=t},updateTasks(e,t){e.boards=t}},actions:{},getters:{getCols:e=>e.boards}};var ue=(0,s.MT)({state:{},getters:{},mutations:{},actions:{},modules:{ui:de,tasks:ce}});const me={key:0,class:"fixed top-0 right-0 left-0 bottom-0 bg-slate-600/40 flex items-start justify-center z-[9999]"},pe={class:"max-w-[450px] w-full min-h-[100px] top-1/4 relative bg-white rounded-md p-2 mx-4"},fe={class:"w-full text-slate-700 font-bold text-xl"};var ve={__name:"vModal",setup(e){const t=(0,s.oR)(),o=(0,r.Fl)((()=>t.state.ui.modalShow)),n=()=>{t.commit("ui/hideModal")};return(e,t)=>{const a=(0,r.Q2)("click-outside");return o.value?(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",me,[(0,r._)("div",pe,[(0,r._)("div",fe,[(0,r.WI)(e.$slots,"title"),(0,r._)("button",{onClick:n,class:"material-icons close float-right"})]),(0,r.WI)(e.$slots,"body")])])),[[a,n]]):(0,r.kq)("",!0)}}};const ge=ve;var xe=ge;const he={beforeMount:(e,t)=>{e.clickOutsideEvent=o=>{e==o.target&&e.contains(o.target)&&t.value()},document.addEventListener("click",e.clickOutsideEvent)},unmounted:e=>{document.removeEventListener("click",e.clickOutsideEvent)}};ue.subscribe(((e,t)=>{localStorage.setItem("boards",JSON.stringify(t.tasks.boards))}));const be=(0,n.ri)(S);be.use(ue),be.use(ie),be.component("v-modal",xe),be.directive("click-outside",he),be.mount("#app")}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,o),a.exports}o.m=e,function(){var e=[];o.O=function(t,n,r,a){if(!n){var l=1/0;for(c=0;c<e.length;c++){n=e[c][0],r=e[c][1],a=e[c][2];for(var s=!0,i=0;i<n.length;i++)(!1&a||l>=a)&&Object.keys(o.O).every((function(e){return o.O[e](n[i])}))?n.splice(i--,1):(s=!1,a<l&&(l=a));if(s){e.splice(c--,1);var d=r();void 0!==d&&(t=d)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,r,a]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,n){return o.f[n](e,t),t}),[]))}}(),function(){o.u=function(e){return"js/about.808da355.js"}}(),function(){o.miniCssF=function(e){}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="vue-trello:";o.l=function(n,r,a,l){if(e[n])e[n].push(r);else{var s,i;if(void 0!==a)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+a){s=u;break}}s||(i=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",t+a),s.src=n),e[n]=[r];var m=function(t,o){s.onerror=s.onload=null,clearTimeout(p);var r=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((function(e){return e(o)})),t)return t(o)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),i&&document.head.appendChild(s)}}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/vue-trello/"}(),function(){var e={143:0};o.f.j=function(t,n){var r=o.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var a=new Promise((function(o,n){r=e[t]=[o,n]}));n.push(r[2]=a);var l=o.p+o.u(t),s=new Error,i=function(n){if(o.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var a=n&&("load"===n.type?"missing":n.type),l=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+l+")",s.name="ChunkLoadError",s.type=a,s.request=l,r[1](s)}};o.l(l,i,"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,a,l=n[0],s=n[1],i=n[2],d=0;if(l.some((function(t){return 0!==e[t]}))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(i)var c=i(o)}for(t&&t(n);d<l.length;d++)a=l[d],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(c)},n=self["webpackChunkvue_trello"]=self["webpackChunkvue_trello"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(2218)}));n=o.O(n)})();
//# sourceMappingURL=app.9a940f83.js.map